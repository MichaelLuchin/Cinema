#include <iostream>
#include <vector>
#include <fstream>
#include <sstream>
#include <string>
using namespace std;

struct CellData
{
	string snack;
	int cost;
	int amount;
};

int generate_cost()
{
	int num = rand() % 200 + 100;
	while (num % 100 != 0)
		num++;
	int r = rand() % 2;
	if (r == 1) num -= 1;
	else num -= 51;

	return num;

}
int generate_amount()
{
	int num = rand() % 9 + 2;

	return num;
}

void read_tsv()
{
	srand(time(NULL));
	ifstream file("example.tsv");
	string line;
	vector<vector<CellData>> data;
	
	getline(file, line); // Убираем первую строчку
	
	while (getline(file, line))
	{
		vector<CellData> row;
		istringstream iss(line);
		string cell;

		while (getline(iss, cell, '\t'))		
		{
			stringstream ss(cell);
			string value;
			vector<string> values;
			
			
			while (getline(ss, value, ','))
				values.push_back(value);
			for (int i = values.size() - 3; i < values.size(); i++)
			{
				CellData cell_data;
				cell_data.snack = values[i];
				cell_data.cost = generate_cost();
				cell_data.amount = generate_amount();
				row.push_back(cell_data);
			}
		}

		data.push_back(row);
	}

	file.close();

	for (const auto& row : data)
	{
		for (const auto& cellData : row)
		{
			cout << "Snack: " << cellData.snack << '\n';
			cout << "Cost: " << cellData.cost << '\n';
			cout << "Amount: " << cellData.amount << '\n';
		}
		cout << '\n';
	}
}

int main()
{
	read_tsv();
}

